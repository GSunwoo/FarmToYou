<?xml version="1.0" encoding="UTF-8"?>

<!-- Mybatis 매퍼를 만들기 위한 Doctype 설정 -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 컨트롤러가 호출하는 인터페이스 위치를 namespace로 설정 -->
<mapper namespace="com.farm.service.ReviewBoardService">

<select id="view" 
		resultType="com.farm.dto.ReviewBoardDTO"
		parameterType="com.farm.dto.ReviewBoardDTO">
		<!-- WHERE review_id=#{review_id} BoardDTO 안의 review_id필드를 기준으로
		해당 글 1개를 조회함 -->
		SELECT * FROM review WHERE review_id=#{review_id}	
	</select>
	<update id="visitCountPlus" parameterType="com.farm.dto.ReviewBoardDTO">
		<!-- 리뷰게시판 테이블의 데이터를 수정함 -->
		UPDATE review SET
		<!-- 기존 조회수에서 1 증가시킴 -->
		visitcount = visitcount + 1
		<!-- 해당 글 번호에 해당하는 행만 수정함 -->
		WHERE review_id=#{review_id}
	</update>
</mapper>
